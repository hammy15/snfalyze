{
  "id": "84cb6581-047e-4392-a00e-192233d421ca",
  "prevId": "ac596efb-ed09-457a-86c5-cc7a614ff4e4",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.agent_messages": {
      "name": "agent_messages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "session_id": {
          "name": "session_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "tool_calls": {
          "name": "tool_calls",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "tool_results": {
          "name": "tool_results",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "tokens_used": {
          "name": "tokens_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "latency_ms": {
          "name": "latency_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_agent_messages_session_id": {
          "name": "idx_agent_messages_session_id",
          "columns": [
            {
              "expression": "session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_agent_messages_role": {
          "name": "idx_agent_messages_role",
          "columns": [
            {
              "expression": "role",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_agent_messages_created_at": {
          "name": "idx_agent_messages_created_at",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "agent_messages_session_id_agent_sessions_id_fk": {
          "name": "agent_messages_session_id_agent_sessions_id_fk",
          "tableFrom": "agent_messages",
          "tableTo": "agent_sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.agent_sessions": {
      "name": "agent_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "deal_id": {
          "name": "deal_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "agent_session_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'active'"
        },
        "context": {
          "name": "context",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "system_prompt": {
          "name": "system_prompt",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "model": {
          "name": "model",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "default": "'claude-sonnet-4-20250514'"
        },
        "total_tokens_used": {
          "name": "total_tokens_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "message_count": {
          "name": "message_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "last_active_at": {
          "name": "last_active_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "ended_at": {
          "name": "ended_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_agent_sessions_deal_id": {
          "name": "idx_agent_sessions_deal_id",
          "columns": [
            {
              "expression": "deal_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_agent_sessions_user_id": {
          "name": "idx_agent_sessions_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_agent_sessions_status": {
          "name": "idx_agent_sessions_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "agent_sessions_deal_id_deals_id_fk": {
          "name": "agent_sessions_deal_id_deals_id_fk",
          "tableFrom": "agent_sessions",
          "tableTo": "deals",
          "columnsFrom": [
            "deal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.agent_tool_executions": {
      "name": "agent_tool_executions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "session_id": {
          "name": "session_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "message_id": {
          "name": "message_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "tool_name": {
          "name": "tool_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "tool_input": {
          "name": "tool_input",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "tool_output": {
          "name": "tool_output",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "agent_tool_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "requires_confirmation": {
          "name": "requires_confirmation",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "confirmed_by": {
          "name": "confirmed_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "confirmed_at": {
          "name": "confirmed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "execution_time_ms": {
          "name": "execution_time_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_tool_executions_session_id": {
          "name": "idx_tool_executions_session_id",
          "columns": [
            {
              "expression": "session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tool_executions_tool_name": {
          "name": "idx_tool_executions_tool_name",
          "columns": [
            {
              "expression": "tool_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tool_executions_status": {
          "name": "idx_tool_executions_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "agent_tool_executions_session_id_agent_sessions_id_fk": {
          "name": "agent_tool_executions_session_id_agent_sessions_id_fk",
          "tableFrom": "agent_tool_executions",
          "tableTo": "agent_sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "agent_tool_executions_message_id_agent_messages_id_fk": {
          "name": "agent_tool_executions_message_id_agent_messages_id_fk",
          "tableFrom": "agent_tool_executions",
          "tableTo": "agent_messages",
          "columnsFrom": [
            "message_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ai_adjustment_suggestions": {
      "name": "ai_adjustment_suggestions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "deal_id": {
          "name": "deal_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "session_id": {
          "name": "session_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "suggestion_type": {
          "name": "suggestion_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "current_value": {
          "name": "current_value",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "suggested_value": {
          "name": "suggested_value",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "reasoning": {
          "name": "reasoning",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "confidence_score": {
          "name": "confidence_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "based_on_deals": {
          "name": "based_on_deals",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": false
        },
        "market_factors": {
          "name": "market_factors",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "suggestion_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "reviewed_by": {
          "name": "reviewed_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "reviewed_at": {
          "name": "reviewed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "review_notes": {
          "name": "review_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "impact_estimate": {
          "name": "impact_estimate",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_suggestions_deal_id": {
          "name": "idx_suggestions_deal_id",
          "columns": [
            {
              "expression": "deal_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_suggestions_status": {
          "name": "idx_suggestions_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_suggestions_type": {
          "name": "idx_suggestions_type",
          "columns": [
            {
              "expression": "suggestion_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ai_adjustment_suggestions_deal_id_deals_id_fk": {
          "name": "ai_adjustment_suggestions_deal_id_deals_id_fk",
          "tableFrom": "ai_adjustment_suggestions",
          "tableTo": "deals",
          "columnsFrom": [
            "deal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "ai_adjustment_suggestions_session_id_agent_sessions_id_fk": {
          "name": "ai_adjustment_suggestions_session_id_agent_sessions_id_fk",
          "tableFrom": "ai_adjustment_suggestions",
          "tableTo": "agent_sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.algorithm_presets": {
      "name": "algorithm_presets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "preset_type": {
          "name": "preset_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "applicable_asset_types": {
          "name": "applicable_asset_types",
          "type": "asset_type[]",
          "primaryKey": false,
          "notNull": false
        },
        "applicable_states": {
          "name": "applicable_states",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "settings": {
          "name": "settings",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "usage_count": {
          "name": "usage_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "last_used_at": {
          "name": "last_used_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "is_public": {
          "name": "is_public",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_presets_name": {
          "name": "idx_presets_name",
          "columns": [
            {
              "expression": "name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_presets_type": {
          "name": "idx_presets_type",
          "columns": [
            {
              "expression": "preset_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_presets_public": {
          "name": "idx_presets_public",
          "columns": [
            {
              "expression": "is_public",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.algorithm_settings": {
      "name": "algorithm_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "version": {
          "name": "version",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "settings_category",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "key": {
          "name": "key",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "value": {
          "name": "value",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_settings_category_key": {
          "name": "idx_settings_category_key",
          "columns": [
            {
              "expression": "category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_settings_active": {
          "name": "idx_settings_active",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.analysis_stages": {
      "name": "analysis_stages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "deal_id": {
          "name": "deal_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "stage": {
          "name": "stage",
          "type": "analysis_stage_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "analysis_stage_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "order": {
          "name": "order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "pending_clarifications": {
          "name": "pending_clarifications",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "stage_data": {
          "name": "stage_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_analysis_stages_deal_id": {
          "name": "idx_analysis_stages_deal_id",
          "columns": [
            {
              "expression": "deal_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_analysis_stages_stage": {
          "name": "idx_analysis_stages_stage",
          "columns": [
            {
              "expression": "stage",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_analysis_stages_status": {
          "name": "idx_analysis_stages_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "analysis_stages_deal_id_deals_id_fk": {
          "name": "analysis_stages_deal_id_deals_id_fk",
          "tableFrom": "analysis_stages",
          "tableTo": "deals",
          "columnsFrom": [
            "deal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.assumptions": {
      "name": "assumptions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "deal_id": {
          "name": "deal_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "financial_period_id": {
          "name": "financial_period_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "valuation_id": {
          "name": "valuation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "field": {
          "name": "field",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "original_value": {
          "name": "original_value",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "assumed_value": {
          "name": "assumed_value",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "confidence_impact": {
          "name": "confidence_impact",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "assumption_category",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_assumptions_deal_id": {
          "name": "idx_assumptions_deal_id",
          "columns": [
            {
              "expression": "deal_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "assumptions_deal_id_deals_id_fk": {
          "name": "assumptions_deal_id_deals_id_fk",
          "tableFrom": "assumptions",
          "tableTo": "deals",
          "columnsFrom": [
            "deal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "assumptions_financial_period_id_financial_periods_id_fk": {
          "name": "assumptions_financial_period_id_financial_periods_id_fk",
          "tableFrom": "assumptions",
          "tableTo": "financial_periods",
          "columnsFrom": [
            "financial_period_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "assumptions_valuation_id_valuations_id_fk": {
          "name": "assumptions_valuation_id_valuations_id_fk",
          "tableFrom": "assumptions",
          "tableTo": "valuations",
          "columnsFrom": [
            "valuation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.capex_items": {
      "name": "capex_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "deal_id": {
          "name": "deal_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "facility_id": {
          "name": "facility_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "capex_category",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "estimated_cost": {
          "name": "estimated_cost",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "per_bed_cost": {
          "name": "per_bed_cost",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "timeline": {
          "name": "timeline",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_capex_items_deal_id": {
          "name": "idx_capex_items_deal_id",
          "columns": [
            {
              "expression": "deal_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "capex_items_deal_id_deals_id_fk": {
          "name": "capex_items_deal_id_deals_id_fk",
          "tableFrom": "capex_items",
          "tableTo": "deals",
          "columnsFrom": [
            "deal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "capex_items_facility_id_facilities_id_fk": {
          "name": "capex_items_facility_id_facilities_id_fk",
          "tableFrom": "capex_items",
          "tableTo": "facilities",
          "columnsFrom": [
            "facility_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.capital_partners": {
      "name": "capital_partners",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "partner_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "asset_types": {
          "name": "asset_types",
          "type": "asset_type[]",
          "primaryKey": false,
          "notNull": false
        },
        "geographies": {
          "name": "geographies",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "min_deal_size": {
          "name": "min_deal_size",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "max_deal_size": {
          "name": "max_deal_size",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "target_yield": {
          "name": "target_yield",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "max_ltv": {
          "name": "max_ltv",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "preferred_structure": {
          "name": "preferred_structure",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "term_preference": {
          "name": "term_preference",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "risk_tolerance": {
          "name": "risk_tolerance",
          "type": "risk_tolerance",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "contact_name": {
          "name": "contact_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "contact_email": {
          "name": "contact_email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'active'"
        },
        "minimum_coverage_ratio": {
          "name": "minimum_coverage_ratio",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "preferred_deal_structures": {
          "name": "preferred_deal_structures",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "lease_term_preference": {
          "name": "lease_term_preference",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "rent_escalation": {
          "name": "rent_escalation",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.cms_provider_data": {
      "name": "cms_provider_data",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "ccn": {
          "name": "ccn",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "provider_name": {
          "name": "provider_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "address": {
          "name": "address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "city": {
          "name": "city",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "state": {
          "name": "state",
          "type": "varchar(2)",
          "primaryKey": false,
          "notNull": false
        },
        "zip_code": {
          "name": "zip_code",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false
        },
        "phone_number": {
          "name": "phone_number",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "ownership_type": {
          "name": "ownership_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "number_of_beds": {
          "name": "number_of_beds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "average_residents_per_day": {
          "name": "average_residents_per_day",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "overall_rating": {
          "name": "overall_rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "health_inspection_rating": {
          "name": "health_inspection_rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "staffing_rating": {
          "name": "staffing_rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "quality_measure_rating": {
          "name": "quality_measure_rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "reported_rn_hppd": {
          "name": "reported_rn_hppd",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "reported_lpn_hppd": {
          "name": "reported_lpn_hppd",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "reported_cna_hppd": {
          "name": "reported_cna_hppd",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "total_nursing_hppd": {
          "name": "total_nursing_hppd",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "total_deficiencies": {
          "name": "total_deficiencies",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "health_deficiencies": {
          "name": "health_deficiencies",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "fire_deficiencies": {
          "name": "fire_deficiencies",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_sff": {
          "name": "is_sff",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_sff_candidate": {
          "name": "is_sff_candidate",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "special_focus_facility_date": {
          "name": "special_focus_facility_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "abuse_icon": {
          "name": "abuse_icon",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "incident_date": {
          "name": "incident_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "fines_total": {
          "name": "fines_total",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "payment_denial_days": {
          "name": "payment_denial_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "data_date": {
          "name": "data_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "synced_at": {
          "name": "synced_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "raw_data": {
          "name": "raw_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_cms_provider_ccn": {
          "name": "idx_cms_provider_ccn",
          "columns": [
            {
              "expression": "ccn",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_cms_provider_state": {
          "name": "idx_cms_provider_state",
          "columns": [
            {
              "expression": "state",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_cms_provider_overall_rating": {
          "name": "idx_cms_provider_overall_rating",
          "columns": [
            {
              "expression": "overall_rating",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "cms_provider_data_ccn_unique": {
          "name": "cms_provider_data_ccn_unique",
          "nullsNotDistinct": false,
          "columns": [
            "ccn"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.coa_mappings": {
      "name": "coa_mappings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "external_term": {
          "name": "external_term",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "cascadia_term": {
          "name": "cascadia_term",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "subcategory": {
          "name": "subcategory",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_coa_unique": {
          "name": "idx_coa_unique",
          "columns": [
            {
              "expression": "external_term",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "cascadia_term",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.comparable_sales": {
      "name": "comparable_sales",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "property_name": {
          "name": "property_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "address": {
          "name": "address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "city": {
          "name": "city",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "state": {
          "name": "state",
          "type": "varchar(2)",
          "primaryKey": false,
          "notNull": false
        },
        "asset_type": {
          "name": "asset_type",
          "type": "asset_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "beds": {
          "name": "beds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "square_footage": {
          "name": "square_footage",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "sale_date": {
          "name": "sale_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "sale_price": {
          "name": "sale_price",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "price_per_bed": {
          "name": "price_per_bed",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "cap_rate": {
          "name": "cap_rate",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "noi_at_sale": {
          "name": "noi_at_sale",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "occupancy_at_sale": {
          "name": "occupancy_at_sale",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "buyer": {
          "name": "buyer",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "seller": {
          "name": "seller",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "broker": {
          "name": "broker",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "verified": {
          "name": "verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_comparable_sales_state": {
          "name": "idx_comparable_sales_state",
          "columns": [
            {
              "expression": "state",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_comparable_sales_asset_type": {
          "name": "idx_comparable_sales_asset_type",
          "columns": [
            {
              "expression": "asset_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_comparable_sales_date": {
          "name": "idx_comparable_sales_date",
          "columns": [
            {
              "expression": "sale_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.deal_algorithm_overrides": {
      "name": "deal_algorithm_overrides",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "deal_id": {
          "name": "deal_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "settings_category",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "key": {
          "name": "key",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "override_value": {
          "name": "override_value",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "original_value": {
          "name": "original_value",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'manual'"
        },
        "suggested_by": {
          "name": "suggested_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "applied_by": {
          "name": "applied_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "applied_at": {
          "name": "applied_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_overrides_new_deal_id": {
          "name": "idx_overrides_new_deal_id",
          "columns": [
            {
              "expression": "deal_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_overrides_category_key": {
          "name": "idx_overrides_category_key",
          "columns": [
            {
              "expression": "category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_overrides_active": {
          "name": "idx_overrides_active",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "deal_algorithm_overrides_deal_id_deals_id_fk": {
          "name": "deal_algorithm_overrides_deal_id_deals_id_fk",
          "tableFrom": "deal_algorithm_overrides",
          "tableTo": "deals",
          "columnsFrom": [
            "deal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.deal_coa_mappings": {
      "name": "deal_coa_mappings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "deal_id": {
          "name": "deal_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "facility_id": {
          "name": "facility_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "document_id": {
          "name": "document_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "source_label": {
          "name": "source_label",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": true
        },
        "source_value": {
          "name": "source_value",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "source_month": {
          "name": "source_month",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "coa_code": {
          "name": "coa_code",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "coa_name": {
          "name": "coa_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "mapping_confidence": {
          "name": "mapping_confidence",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "mapping_method": {
          "name": "mapping_method",
          "type": "mapping_method",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "is_mapped": {
          "name": "is_mapped",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "proforma_destination": {
          "name": "proforma_destination",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "reviewed_by": {
          "name": "reviewed_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "reviewed_at": {
          "name": "reviewed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_deal_coa_mappings_deal_id": {
          "name": "idx_deal_coa_mappings_deal_id",
          "columns": [
            {
              "expression": "deal_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_deal_coa_mappings_facility_id": {
          "name": "idx_deal_coa_mappings_facility_id",
          "columns": [
            {
              "expression": "facility_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_deal_coa_mappings_document_id": {
          "name": "idx_deal_coa_mappings_document_id",
          "columns": [
            {
              "expression": "document_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_deal_coa_mappings_is_mapped": {
          "name": "idx_deal_coa_mappings_is_mapped",
          "columns": [
            {
              "expression": "is_mapped",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_deal_coa_mappings_coa_code": {
          "name": "idx_deal_coa_mappings_coa_code",
          "columns": [
            {
              "expression": "coa_code",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "deal_coa_mappings_deal_id_deals_id_fk": {
          "name": "deal_coa_mappings_deal_id_deals_id_fk",
          "tableFrom": "deal_coa_mappings",
          "tableTo": "deals",
          "columnsFrom": [
            "deal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "deal_coa_mappings_facility_id_facilities_id_fk": {
          "name": "deal_coa_mappings_facility_id_facilities_id_fk",
          "tableFrom": "deal_coa_mappings",
          "tableTo": "facilities",
          "columnsFrom": [
            "facility_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "deal_coa_mappings_document_id_documents_id_fk": {
          "name": "deal_coa_mappings_document_id_documents_id_fk",
          "tableFrom": "deal_coa_mappings",
          "tableTo": "documents",
          "columnsFrom": [
            "document_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.deal_embeddings": {
      "name": "deal_embeddings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "deal_id": {
          "name": "deal_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "embedding_type": {
          "name": "embedding_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "embedding": {
          "name": "embedding",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "embedding_model": {
          "name": "embedding_model",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "text_content": {
          "name": "text_content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_embeddings_deal_id": {
          "name": "idx_embeddings_deal_id",
          "columns": [
            {
              "expression": "deal_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_embeddings_type": {
          "name": "idx_embeddings_type",
          "columns": [
            {
              "expression": "embedding_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "deal_embeddings_deal_id_deals_id_fk": {
          "name": "deal_embeddings_deal_id_deals_id_fk",
          "tableFrom": "deal_embeddings",
          "tableTo": "deals",
          "columnsFrom": [
            "deal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.deal_memory": {
      "name": "deal_memory",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "deal_id": {
          "name": "deal_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "snapshot_data": {
          "name": "snapshot_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "thesis": {
          "name": "thesis",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "outcome": {
          "name": "outcome",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "outcome_notes": {
          "name": "outcome_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "post_mortem": {
          "name": "post_mortem",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "analog_deal_ids": {
          "name": "analog_deal_ids",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_deal_memory_deal_id": {
          "name": "idx_deal_memory_deal_id",
          "columns": [
            {
              "expression": "deal_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "deal_memory_deal_id_deals_id_fk": {
          "name": "deal_memory_deal_id_deals_id_fk",
          "tableFrom": "deal_memory",
          "tableTo": "deals",
          "columnsFrom": [
            "deal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.deal_portfolio_metrics": {
      "name": "deal_portfolio_metrics",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "deal_id": {
          "name": "deal_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "total_beds": {
          "name": "total_beds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "total_facilities": {
          "name": "total_facilities",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "snf_count": {
          "name": "snf_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "alf_count": {
          "name": "alf_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "ilf_count": {
          "name": "ilf_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "portfolio_revenue": {
          "name": "portfolio_revenue",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "portfolio_expenses": {
          "name": "portfolio_expenses",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "portfolio_noi": {
          "name": "portfolio_noi",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "portfolio_value": {
          "name": "portfolio_value",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "blended_cap_rate": {
          "name": "blended_cap_rate",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "weighted_occupancy": {
          "name": "weighted_occupancy",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "total_square_footage": {
          "name": "total_square_footage",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "average_price_per_bed": {
          "name": "average_price_per_bed",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "state_breakdown": {
          "name": "state_breakdown",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "asset_type_breakdown": {
          "name": "asset_type_breakdown",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "calculated_at": {
          "name": "calculated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_portfolio_metrics_deal_id": {
          "name": "idx_portfolio_metrics_deal_id",
          "columns": [
            {
              "expression": "deal_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "deal_portfolio_metrics_deal_id_deals_id_fk": {
          "name": "deal_portfolio_metrics_deal_id_deals_id_fk",
          "tableFrom": "deal_portfolio_metrics",
          "tableTo": "deals",
          "columnsFrom": [
            "deal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "deal_portfolio_metrics_deal_id_unique": {
          "name": "deal_portfolio_metrics_deal_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "deal_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.deals": {
      "name": "deals",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "deal_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'new'"
        },
        "asset_type": {
          "name": "asset_type",
          "type": "asset_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "asking_price": {
          "name": "asking_price",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "beds": {
          "name": "beds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "primary_state": {
          "name": "primary_state",
          "type": "varchar(2)",
          "primaryKey": false,
          "notNull": false
        },
        "markets": {
          "name": "markets",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "broker_name": {
          "name": "broker_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "broker_firm": {
          "name": "broker_firm",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "seller_name": {
          "name": "seller_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "broker_credibility_score": {
          "name": "broker_credibility_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "thesis": {
          "name": "thesis",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "confidence_score": {
          "name": "confidence_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "analysis_narrative": {
          "name": "analysis_narrative",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "extraction_quality_score": {
          "name": "extraction_quality_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "has_unresolved_conflicts": {
          "name": "has_unresolved_conflicts",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "deal_structure": {
          "name": "deal_structure",
          "type": "deal_structure",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'purchase'"
        },
        "is_all_or_nothing": {
          "name": "is_all_or_nothing",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "buyer_partner_id": {
          "name": "buyer_partner_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "special_circumstances": {
          "name": "special_circumstances",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "analyzed_at": {
          "name": "analyzed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        }
      },
      "indexes": {
        "idx_deals_status": {
          "name": "idx_deals_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_deals_asset_type": {
          "name": "idx_deals_asset_type",
          "columns": [
            {
              "expression": "asset_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_deals_primary_state": {
          "name": "idx_deals_primary_state",
          "columns": [
            {
              "expression": "primary_state",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_deals_deal_structure": {
          "name": "idx_deals_deal_structure",
          "columns": [
            {
              "expression": "deal_structure",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.document_conflicts": {
      "name": "document_conflicts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "deal_id": {
          "name": "deal_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "document1_id": {
          "name": "document1_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "document2_id": {
          "name": "document2_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "field_name": {
          "name": "field_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "value1": {
          "name": "value1",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "value2": {
          "name": "value2",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "variance_percent": {
          "name": "variance_percent",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "resolution": {
          "name": "resolution",
          "type": "conflict_resolution",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "resolved_value": {
          "name": "resolved_value",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_by": {
          "name": "resolved_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "resolution_rationale": {
          "name": "resolution_rationale",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_conflicts_deal_id": {
          "name": "idx_conflicts_deal_id",
          "columns": [
            {
              "expression": "deal_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_conflicts_resolution": {
          "name": "idx_conflicts_resolution",
          "columns": [
            {
              "expression": "resolution",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "document_conflicts_deal_id_deals_id_fk": {
          "name": "document_conflicts_deal_id_deals_id_fk",
          "tableFrom": "document_conflicts",
          "tableTo": "deals",
          "columnsFrom": [
            "deal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "document_conflicts_document1_id_documents_id_fk": {
          "name": "document_conflicts_document1_id_documents_id_fk",
          "tableFrom": "document_conflicts",
          "tableTo": "documents",
          "columnsFrom": [
            "document1_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "document_conflicts_document2_id_documents_id_fk": {
          "name": "document_conflicts_document2_id_documents_id_fk",
          "tableFrom": "document_conflicts",
          "tableTo": "documents",
          "columnsFrom": [
            "document2_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.document_folders": {
      "name": "document_folders",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "deal_id": {
          "name": "deal_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "folder_type": {
          "name": "folder_type",
          "type": "folder_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "display_order": {
          "name": "display_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_document_folders_deal_id": {
          "name": "idx_document_folders_deal_id",
          "columns": [
            {
              "expression": "deal_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_document_folders_type": {
          "name": "idx_document_folders_type",
          "columns": [
            {
              "expression": "folder_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "document_folders_deal_id_deals_id_fk": {
          "name": "document_folders_deal_id_deals_id_fk",
          "tableFrom": "document_folders",
          "tableTo": "deals",
          "columnsFrom": [
            "deal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.documents": {
      "name": "documents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "deal_id": {
          "name": "deal_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "filename": {
          "name": "filename",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "document_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "document_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'uploaded'"
        },
        "period_start": {
          "name": "period_start",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "period_end": {
          "name": "period_end",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "facility_id": {
          "name": "facility_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "uploaded_at": {
          "name": "uploaded_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "processed_at": {
          "name": "processed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "extracted_data": {
          "name": "extracted_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "raw_text": {
          "name": "raw_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "errors": {
          "name": "errors",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "clarification_status": {
          "name": "clarification_status",
          "type": "clarification_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "pending_clarifications": {
          "name": "pending_clarifications",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "extraction_confidence": {
          "name": "extraction_confidence",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "folder_id": {
          "name": "folder_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "user_confirmed_type": {
          "name": "user_confirmed_type",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "extraction_stage": {
          "name": "extraction_stage",
          "type": "extraction_stage",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "ocr_quality_score": {
          "name": "ocr_quality_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_documents_deal_id": {
          "name": "idx_documents_deal_id",
          "columns": [
            {
              "expression": "deal_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_documents_status": {
          "name": "idx_documents_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_documents_clarification_status": {
          "name": "idx_documents_clarification_status",
          "columns": [
            {
              "expression": "clarification_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_documents_folder_id": {
          "name": "idx_documents_folder_id",
          "columns": [
            {
              "expression": "folder_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_documents_extraction_stage": {
          "name": "idx_documents_extraction_stage",
          "columns": [
            {
              "expression": "extraction_stage",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "documents_deal_id_deals_id_fk": {
          "name": "documents_deal_id_deals_id_fk",
          "tableFrom": "documents",
          "tableTo": "deals",
          "columnsFrom": [
            "deal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "documents_facility_id_facilities_id_fk": {
          "name": "documents_facility_id_facilities_id_fk",
          "tableFrom": "documents",
          "tableTo": "facilities",
          "columnsFrom": [
            "facility_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.extraction_clarifications": {
      "name": "extraction_clarifications",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "document_id": {
          "name": "document_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "deal_id": {
          "name": "deal_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "field_name": {
          "name": "field_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "field_path": {
          "name": "field_path",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "extracted_value": {
          "name": "extracted_value",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "suggested_values": {
          "name": "suggested_values",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "benchmark_value": {
          "name": "benchmark_value",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "benchmark_range": {
          "name": "benchmark_range",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "clarification_type": {
          "name": "clarification_type",
          "type": "clarification_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "clarification_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "confidence_score": {
          "name": "confidence_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_value": {
          "name": "resolved_value",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_by": {
          "name": "resolved_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "resolution_notes": {
          "name": "resolution_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 5
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_clarifications_document_id": {
          "name": "idx_clarifications_document_id",
          "columns": [
            {
              "expression": "document_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_clarifications_deal_id": {
          "name": "idx_clarifications_deal_id",
          "columns": [
            {
              "expression": "deal_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_clarifications_status": {
          "name": "idx_clarifications_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_clarifications_priority": {
          "name": "idx_clarifications_priority",
          "columns": [
            {
              "expression": "priority",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "extraction_clarifications_document_id_documents_id_fk": {
          "name": "extraction_clarifications_document_id_documents_id_fk",
          "tableFrom": "extraction_clarifications",
          "tableTo": "documents",
          "columnsFrom": [
            "document_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "extraction_clarifications_deal_id_deals_id_fk": {
          "name": "extraction_clarifications_deal_id_deals_id_fk",
          "tableFrom": "extraction_clarifications",
          "tableTo": "deals",
          "columnsFrom": [
            "deal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.extraction_metrics": {
      "name": "extraction_metrics",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "document_type": {
          "name": "document_type",
          "type": "document_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "field_name": {
          "name": "field_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "period_start": {
          "name": "period_start",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "period_end": {
          "name": "period_end",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "total_extractions": {
          "name": "total_extractions",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "correct_extractions": {
          "name": "correct_extractions",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "average_confidence": {
          "name": "average_confidence",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "clarifications_generated": {
          "name": "clarifications_generated",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "clarifications_resolved": {
          "name": "clarifications_resolved",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "corrections_applied": {
          "name": "corrections_applied",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "accuracy_rate": {
          "name": "accuracy_rate",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_metrics_doc_field_period": {
          "name": "idx_metrics_doc_field_period",
          "columns": [
            {
              "expression": "document_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "field_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "period_start",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.facilities": {
      "name": "facilities",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "deal_id": {
          "name": "deal_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "ccn": {
          "name": "ccn",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "address": {
          "name": "address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "city": {
          "name": "city",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "state": {
          "name": "state",
          "type": "varchar(2)",
          "primaryKey": false,
          "notNull": false
        },
        "zip_code": {
          "name": "zip_code",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false
        },
        "asset_type": {
          "name": "asset_type",
          "type": "asset_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "licensed_beds": {
          "name": "licensed_beds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "certified_beds": {
          "name": "certified_beds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "year_built": {
          "name": "year_built",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "last_renovation": {
          "name": "last_renovation",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "square_footage": {
          "name": "square_footage",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "acres": {
          "name": "acres",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "cms_rating": {
          "name": "cms_rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "health_rating": {
          "name": "health_rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "staffing_rating": {
          "name": "staffing_rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "quality_rating": {
          "name": "quality_rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_sff": {
          "name": "is_sff",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_sff_watch": {
          "name": "is_sff_watch",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "has_immediate_jeopardy": {
          "name": "has_immediate_jeopardy",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_verified": {
          "name": "is_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "verified_at": {
          "name": "verified_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "verified_by": {
          "name": "verified_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "cms_data_snapshot": {
          "name": "cms_data_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_facilities_deal_id": {
          "name": "idx_facilities_deal_id",
          "columns": [
            {
              "expression": "deal_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_facilities_ccn": {
          "name": "idx_facilities_ccn",
          "columns": [
            {
              "expression": "ccn",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_facilities_is_verified": {
          "name": "idx_facilities_is_verified",
          "columns": [
            {
              "expression": "is_verified",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "facilities_deal_id_deals_id_fk": {
          "name": "facilities_deal_id_deals_id_fk",
          "tableFrom": "facilities",
          "tableTo": "deals",
          "columnsFrom": [
            "deal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.facility_census_periods": {
      "name": "facility_census_periods",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "facility_id": {
          "name": "facility_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "period_start": {
          "name": "period_start",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "period_end": {
          "name": "period_end",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "medicare_part_a_days": {
          "name": "medicare_part_a_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "medicare_advantage_days": {
          "name": "medicare_advantage_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "managed_care_days": {
          "name": "managed_care_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "medicaid_days": {
          "name": "medicaid_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "managed_medicaid_days": {
          "name": "managed_medicaid_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "private_days": {
          "name": "private_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "va_contract_days": {
          "name": "va_contract_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "hospice_days": {
          "name": "hospice_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "other_days": {
          "name": "other_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_beds": {
          "name": "total_beds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "occupancy_rate": {
          "name": "occupancy_rate",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_census_periods_facility_id": {
          "name": "idx_census_periods_facility_id",
          "columns": [
            {
              "expression": "facility_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_census_periods_period": {
          "name": "idx_census_periods_period",
          "columns": [
            {
              "expression": "period_start",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "period_end",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "facility_census_periods_facility_id_facilities_id_fk": {
          "name": "facility_census_periods_facility_id_facilities_id_fk",
          "tableFrom": "facility_census_periods",
          "tableTo": "facilities",
          "columnsFrom": [
            "facility_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.facility_payer_rates": {
      "name": "facility_payer_rates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "facility_id": {
          "name": "facility_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "effective_date": {
          "name": "effective_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "medicare_part_a_ppd": {
          "name": "medicare_part_a_ppd",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "medicare_advantage_ppd": {
          "name": "medicare_advantage_ppd",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "managed_care_ppd": {
          "name": "managed_care_ppd",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "medicaid_ppd": {
          "name": "medicaid_ppd",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "managed_medicaid_ppd": {
          "name": "managed_medicaid_ppd",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "private_ppd": {
          "name": "private_ppd",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "va_contract_ppd": {
          "name": "va_contract_ppd",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "hospice_ppd": {
          "name": "hospice_ppd",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "ancillary_revenue_ppd": {
          "name": "ancillary_revenue_ppd",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "therapy_revenue_ppd": {
          "name": "therapy_revenue_ppd",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_payer_rates_facility_id": {
          "name": "idx_payer_rates_facility_id",
          "columns": [
            {
              "expression": "facility_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_payer_rates_effective_date": {
          "name": "idx_payer_rates_effective_date",
          "columns": [
            {
              "expression": "effective_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "facility_payer_rates_facility_id_facilities_id_fk": {
          "name": "facility_payer_rates_facility_id_facilities_id_fk",
          "tableFrom": "facility_payer_rates",
          "tableTo": "facilities",
          "columnsFrom": [
            "facility_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.field_corrections": {
      "name": "field_corrections",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "document_id": {
          "name": "document_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "deal_id": {
          "name": "deal_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "document_type": {
          "name": "document_type",
          "type": "document_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "field_name": {
          "name": "field_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "original_value": {
          "name": "original_value",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "corrected_value": {
          "name": "corrected_value",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "correction_source": {
          "name": "correction_source",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "corrected_by": {
          "name": "corrected_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "corrected_at": {
          "name": "corrected_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "context_snippet": {
          "name": "context_snippet",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "was_pattern_learned": {
          "name": "was_pattern_learned",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "learned_pattern_id": {
          "name": "learned_pattern_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_corrections_document_id": {
          "name": "idx_corrections_document_id",
          "columns": [
            {
              "expression": "document_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_corrections_deal_id": {
          "name": "idx_corrections_deal_id",
          "columns": [
            {
              "expression": "deal_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_corrections_field_name": {
          "name": "idx_corrections_field_name",
          "columns": [
            {
              "expression": "field_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_corrections_document_type": {
          "name": "idx_corrections_document_type",
          "columns": [
            {
              "expression": "document_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "field_corrections_document_id_documents_id_fk": {
          "name": "field_corrections_document_id_documents_id_fk",
          "tableFrom": "field_corrections",
          "tableTo": "documents",
          "columnsFrom": [
            "document_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "field_corrections_deal_id_deals_id_fk": {
          "name": "field_corrections_deal_id_deals_id_fk",
          "tableFrom": "field_corrections",
          "tableTo": "deals",
          "columnsFrom": [
            "deal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.financial_periods": {
      "name": "financial_periods",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "deal_id": {
          "name": "deal_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "facility_id": {
          "name": "facility_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "period_start": {
          "name": "period_start",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "period_end": {
          "name": "period_end",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "is_annualized": {
          "name": "is_annualized",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "total_revenue": {
          "name": "total_revenue",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "medicare_revenue": {
          "name": "medicare_revenue",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "medicaid_revenue": {
          "name": "medicaid_revenue",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "managed_care_revenue": {
          "name": "managed_care_revenue",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "private_pay_revenue": {
          "name": "private_pay_revenue",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "other_revenue": {
          "name": "other_revenue",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "total_expenses": {
          "name": "total_expenses",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "labor_cost": {
          "name": "labor_cost",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "core_labor": {
          "name": "core_labor",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "agency_labor": {
          "name": "agency_labor",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "food_cost": {
          "name": "food_cost",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "supplies_cost": {
          "name": "supplies_cost",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "utilities_cost": {
          "name": "utilities_cost",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "insurance_cost": {
          "name": "insurance_cost",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "management_fee": {
          "name": "management_fee",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "other_expenses": {
          "name": "other_expenses",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "noi": {
          "name": "noi",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "ebitdar": {
          "name": "ebitdar",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "normalized_noi": {
          "name": "normalized_noi",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "licensed_beds": {
          "name": "licensed_beds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "average_daily_census": {
          "name": "average_daily_census",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "occupancy_rate": {
          "name": "occupancy_rate",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "hppd": {
          "name": "hppd",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "agency_percentage": {
          "name": "agency_percentage",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "confidence_score": {
          "name": "confidence_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_financial_periods_deal_id": {
          "name": "idx_financial_periods_deal_id",
          "columns": [
            {
              "expression": "deal_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "financial_periods_deal_id_deals_id_fk": {
          "name": "financial_periods_deal_id_deals_id_fk",
          "tableFrom": "financial_periods",
          "tableTo": "deals",
          "columnsFrom": [
            "deal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "financial_periods_facility_id_facilities_id_fk": {
          "name": "financial_periods_facility_id_facilities_id_fk",
          "tableFrom": "financial_periods",
          "tableTo": "facilities",
          "columnsFrom": [
            "facility_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.learned_patterns": {
      "name": "learned_patterns",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "pattern_type": {
          "name": "pattern_type",
          "type": "pattern_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "document_type": {
          "name": "document_type",
          "type": "document_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "field_name": {
          "name": "field_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "pattern": {
          "name": "pattern",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "confidence": {
          "name": "confidence",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0.5'"
        },
        "occurrence_count": {
          "name": "occurrence_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "success_count": {
          "name": "success_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "failure_count": {
          "name": "failure_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "last_used_at": {
          "name": "last_used_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "example_inputs": {
          "name": "example_inputs",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "example_outputs": {
          "name": "example_outputs",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_patterns_pattern_type": {
          "name": "idx_patterns_pattern_type",
          "columns": [
            {
              "expression": "pattern_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_patterns_document_type": {
          "name": "idx_patterns_document_type",
          "columns": [
            {
              "expression": "document_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_patterns_field_name": {
          "name": "idx_patterns_field_name",
          "columns": [
            {
              "expression": "field_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_patterns_confidence": {
          "name": "idx_patterns_confidence",
          "columns": [
            {
              "expression": "confidence",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.mcr_cost_reports": {
      "name": "mcr_cost_reports",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "ccn": {
          "name": "ccn",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "provider_name": {
          "name": "provider_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "fiscal_year_begin": {
          "name": "fiscal_year_begin",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "fiscal_year_end": {
          "name": "fiscal_year_end",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "report_status": {
          "name": "report_status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "total_beds": {
          "name": "total_beds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "total_patient_days": {
          "name": "total_patient_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "medicare_days": {
          "name": "medicare_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "medicaid_days": {
          "name": "medicaid_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "total_costs": {
          "name": "total_costs",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "net_patient_revenue": {
          "name": "net_patient_revenue",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "medicare_revenue": {
          "name": "medicare_revenue",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "medicaid_revenue": {
          "name": "medicaid_revenue",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "total_salaries": {
          "name": "total_salaries",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "contract_labor_cost": {
          "name": "contract_labor_cost",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "rent_cost": {
          "name": "rent_cost",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "depreciation_cost": {
          "name": "depreciation_cost",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "cost_per_day": {
          "name": "cost_per_day",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "raw_data": {
          "name": "raw_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "synced_at": {
          "name": "synced_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_mcr_ccn": {
          "name": "idx_mcr_ccn",
          "columns": [
            {
              "expression": "ccn",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_mcr_fiscal_year": {
          "name": "idx_mcr_fiscal_year",
          "columns": [
            {
              "expression": "fiscal_year_end",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_mcr_ccn_fiscal": {
          "name": "idx_mcr_ccn_fiscal",
          "columns": [
            {
              "expression": "ccn",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "fiscal_year_end",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.overrides": {
      "name": "overrides",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "deal_id": {
          "name": "deal_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "field": {
          "name": "field",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "original_value": {
          "name": "original_value",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "override_value": {
          "name": "override_value",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "rationale": {
          "name": "rationale",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "overridden_by": {
          "name": "overridden_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "overridden_at": {
          "name": "overridden_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_overrides_deal_id": {
          "name": "idx_overrides_deal_id",
          "columns": [
            {
              "expression": "deal_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "overrides_deal_id_deals_id_fk": {
          "name": "overrides_deal_id_deals_id_fk",
          "tableFrom": "overrides",
          "tableTo": "deals",
          "columnsFrom": [
            "deal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.partner_deal_history": {
      "name": "partner_deal_history",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "partner_id": {
          "name": "partner_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "deal_name": {
          "name": "deal_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "deal_date": {
          "name": "deal_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "deal_size": {
          "name": "deal_size",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "outcome": {
          "name": "outcome",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "partner_deal_history_partner_id_capital_partners_id_fk": {
          "name": "partner_deal_history_partner_id_capital_partners_id_fk",
          "tableFrom": "partner_deal_history",
          "tableTo": "capital_partners",
          "columnsFrom": [
            "partner_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.partner_matches": {
      "name": "partner_matches",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "deal_id": {
          "name": "deal_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "partner_id": {
          "name": "partner_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "match_score": {
          "name": "match_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "expected_yield": {
          "name": "expected_yield",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "probability_of_close": {
          "name": "probability_of_close",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "concerns": {
          "name": "concerns",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "strengths": {
          "name": "strengths",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_partner_matches_deal_id": {
          "name": "idx_partner_matches_deal_id",
          "columns": [
            {
              "expression": "deal_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "partner_matches_deal_id_deals_id_fk": {
          "name": "partner_matches_deal_id_deals_id_fk",
          "tableFrom": "partner_matches",
          "tableTo": "deals",
          "columnsFrom": [
            "deal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "partner_matches_partner_id_capital_partners_id_fk": {
          "name": "partner_matches_partner_id_capital_partners_id_fk",
          "tableFrom": "partner_matches",
          "tableTo": "capital_partners",
          "columnsFrom": [
            "partner_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.proforma_line_overrides": {
      "name": "proforma_line_overrides",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "scenario_id": {
          "name": "scenario_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "facility_id": {
          "name": "facility_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "coa_code": {
          "name": "coa_code",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "month_index": {
          "name": "month_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "override_type": {
          "name": "override_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "override_value": {
          "name": "override_value",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "annual_growth_rate": {
          "name": "annual_growth_rate",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_proforma_overrides_scenario_id": {
          "name": "idx_proforma_overrides_scenario_id",
          "columns": [
            {
              "expression": "scenario_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_proforma_overrides_facility_id": {
          "name": "idx_proforma_overrides_facility_id",
          "columns": [
            {
              "expression": "facility_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_proforma_overrides_coa_month": {
          "name": "idx_proforma_overrides_coa_month",
          "columns": [
            {
              "expression": "coa_code",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "month_index",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "proforma_line_overrides_scenario_id_proforma_scenarios_id_fk": {
          "name": "proforma_line_overrides_scenario_id_proforma_scenarios_id_fk",
          "tableFrom": "proforma_line_overrides",
          "tableTo": "proforma_scenarios",
          "columnsFrom": [
            "scenario_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "proforma_line_overrides_facility_id_facilities_id_fk": {
          "name": "proforma_line_overrides_facility_id_facilities_id_fk",
          "tableFrom": "proforma_line_overrides",
          "tableTo": "facilities",
          "columnsFrom": [
            "facility_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.proforma_scenario_assumptions": {
      "name": "proforma_scenario_assumptions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "scenario_id": {
          "name": "scenario_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "facility_id": {
          "name": "facility_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "assumption_key": {
          "name": "assumption_key",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "assumption_value": {
          "name": "assumption_value",
          "type": "numeric(15, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_scenario_assumptions_scenario_id": {
          "name": "idx_scenario_assumptions_scenario_id",
          "columns": [
            {
              "expression": "scenario_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_scenario_assumptions_facility_id": {
          "name": "idx_scenario_assumptions_facility_id",
          "columns": [
            {
              "expression": "facility_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_scenario_assumptions_key": {
          "name": "idx_scenario_assumptions_key",
          "columns": [
            {
              "expression": "assumption_key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "proforma_scenario_assumptions_scenario_id_proforma_scenarios_id_fk": {
          "name": "proforma_scenario_assumptions_scenario_id_proforma_scenarios_id_fk",
          "tableFrom": "proforma_scenario_assumptions",
          "tableTo": "proforma_scenarios",
          "columnsFrom": [
            "scenario_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "proforma_scenario_assumptions_facility_id_facilities_id_fk": {
          "name": "proforma_scenario_assumptions_facility_id_facilities_id_fk",
          "tableFrom": "proforma_scenario_assumptions",
          "tableTo": "facilities",
          "columnsFrom": [
            "facility_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.proforma_scenarios": {
      "name": "proforma_scenarios",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "deal_id": {
          "name": "deal_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "facility_id": {
          "name": "facility_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "scenario_type": {
          "name": "scenario_type",
          "type": "scenario_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'baseline'"
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "start_date": {
          "name": "start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "end_date": {
          "name": "end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "projection_years": {
          "name": "projection_years",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 5
        },
        "assumptions": {
          "name": "assumptions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "revenue_growth_rate": {
          "name": "revenue_growth_rate",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "expense_growth_rate": {
          "name": "expense_growth_rate",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "target_occupancy": {
          "name": "target_occupancy",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "data": {
          "name": "data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "is_base_case": {
          "name": "is_base_case",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_proforma_scenarios_deal_id": {
          "name": "idx_proforma_scenarios_deal_id",
          "columns": [
            {
              "expression": "deal_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_proforma_scenarios_facility_id": {
          "name": "idx_proforma_scenarios_facility_id",
          "columns": [
            {
              "expression": "facility_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "proforma_scenarios_deal_id_deals_id_fk": {
          "name": "proforma_scenarios_deal_id_deals_id_fk",
          "tableFrom": "proforma_scenarios",
          "tableTo": "deals",
          "columnsFrom": [
            "deal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "proforma_scenarios_facility_id_facilities_id_fk": {
          "name": "proforma_scenarios_facility_id_facilities_id_fk",
          "tableFrom": "proforma_scenarios",
          "tableTo": "facilities",
          "columnsFrom": [
            "facility_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.risk_factors": {
      "name": "risk_factors",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "deal_id": {
          "name": "deal_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "severity": {
          "name": "severity",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "mitigation_strategy": {
          "name": "mitigation_strategy",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_underpriced": {
          "name": "is_underpriced",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "risk_factors_deal_id_deals_id_fk": {
          "name": "risk_factors_deal_id_deals_id_fk",
          "tableFrom": "risk_factors",
          "tableTo": "deals",
          "columnsFrom": [
            "deal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sale_leaseback": {
      "name": "sale_leaseback",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "deal_id": {
          "name": "deal_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "facility_id": {
          "name": "facility_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "property_noi": {
          "name": "property_noi",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "applied_cap_rate": {
          "name": "applied_cap_rate",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "purchase_price": {
          "name": "purchase_price",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "buyer_yield_requirement": {
          "name": "buyer_yield_requirement",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "annual_rent": {
          "name": "annual_rent",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "lease_term_years": {
          "name": "lease_term_years",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "rent_escalation": {
          "name": "rent_escalation",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "facility_ebitdar": {
          "name": "facility_ebitdar",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "coverage_ratio": {
          "name": "coverage_ratio",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "coverage_pass_fail": {
          "name": "coverage_pass_fail",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "operator_cash_flow_after_rent": {
          "name": "operator_cash_flow_after_rent",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "effective_rent_per_bed": {
          "name": "effective_rent_per_bed",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_sale_leaseback_deal_id": {
          "name": "idx_sale_leaseback_deal_id",
          "columns": [
            {
              "expression": "deal_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_sale_leaseback_facility_id": {
          "name": "idx_sale_leaseback_facility_id",
          "columns": [
            {
              "expression": "facility_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "sale_leaseback_deal_id_deals_id_fk": {
          "name": "sale_leaseback_deal_id_deals_id_fk",
          "tableFrom": "sale_leaseback",
          "tableTo": "deals",
          "columnsFrom": [
            "deal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "sale_leaseback_facility_id_facilities_id_fk": {
          "name": "sale_leaseback_facility_id_facilities_id_fk",
          "tableFrom": "sale_leaseback",
          "tableTo": "facilities",
          "columnsFrom": [
            "facility_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.settings_audit_log": {
      "name": "settings_audit_log",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "setting_id": {
          "name": "setting_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "settings_category",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "key": {
          "name": "key",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "previous_value": {
          "name": "previous_value",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "new_value": {
          "name": "new_value",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "change_reason": {
          "name": "change_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "changed_by": {
          "name": "changed_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "changed_at": {
          "name": "changed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_audit_setting_id": {
          "name": "idx_audit_setting_id",
          "columns": [
            {
              "expression": "setting_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_audit_changed_at": {
          "name": "idx_audit_changed_at",
          "columns": [
            {
              "expression": "changed_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "settings_audit_log_setting_id_algorithm_settings_id_fk": {
          "name": "settings_audit_log_setting_id_algorithm_settings_id_fk",
          "tableFrom": "settings_audit_log",
          "tableTo": "algorithm_settings",
          "columnsFrom": [
            "setting_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.settings_snapshots": {
      "name": "settings_snapshots",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "settings": {
          "name": "settings",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_snapshot_name": {
          "name": "idx_snapshot_name",
          "columns": [
            {
              "expression": "name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.survey_deficiencies": {
      "name": "survey_deficiencies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "facility_id": {
          "name": "facility_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "tag": {
          "name": "tag",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "scope": {
          "name": "scope",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "severity": {
          "name": "severity",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "correction_date": {
          "name": "correction_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "survey_deficiencies_facility_id_facilities_id_fk": {
          "name": "survey_deficiencies_facility_id_facilities_id_fk",
          "tableFrom": "survey_deficiencies",
          "tableTo": "facilities",
          "columnsFrom": [
            "facility_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.valuations": {
      "name": "valuations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "deal_id": {
          "name": "deal_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "facility_id": {
          "name": "facility_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "view_type": {
          "name": "view_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "method": {
          "name": "method",
          "type": "valuation_method",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'cap_rate'"
        },
        "value_low": {
          "name": "value_low",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "value_base": {
          "name": "value_base",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "value_high": {
          "name": "value_high",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "cap_rate_low": {
          "name": "cap_rate_low",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "cap_rate_base": {
          "name": "cap_rate_base",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "cap_rate_high": {
          "name": "cap_rate_high",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "noi_used": {
          "name": "noi_used",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "price_per_bed": {
          "name": "price_per_bed",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "suggested_offer": {
          "name": "suggested_offer",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "walk_away_threshold": {
          "name": "walk_away_threshold",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "upside_scenario": {
          "name": "upside_scenario",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "inputs_used": {
          "name": "inputs_used",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "comparable_sale_ids": {
          "name": "comparable_sale_ids",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": false
        },
        "confidence_score": {
          "name": "confidence_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "confidence_narrative": {
          "name": "confidence_narrative",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_valuations_deal_id": {
          "name": "idx_valuations_deal_id",
          "columns": [
            {
              "expression": "deal_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_valuations_view_type": {
          "name": "idx_valuations_view_type",
          "columns": [
            {
              "expression": "view_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_valuations_method": {
          "name": "idx_valuations_method",
          "columns": [
            {
              "expression": "method",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "valuations_deal_id_deals_id_fk": {
          "name": "valuations_deal_id_deals_id_fk",
          "tableFrom": "valuations",
          "tableTo": "deals",
          "columnsFrom": [
            "deal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "valuations_facility_id_facilities_id_fk": {
          "name": "valuations_facility_id_facilities_id_fk",
          "tableFrom": "valuations",
          "tableTo": "facilities",
          "columnsFrom": [
            "facility_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.wizard_sessions": {
      "name": "wizard_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "deal_id": {
          "name": "deal_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "current_stage": {
          "name": "current_stage",
          "type": "wizard_stage_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'document_upload'"
        },
        "stage_data": {
          "name": "stage_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "is_complete": {
          "name": "is_complete",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_wizard_sessions_deal_id": {
          "name": "idx_wizard_sessions_deal_id",
          "columns": [
            {
              "expression": "deal_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_wizard_sessions_stage": {
          "name": "idx_wizard_sessions_stage",
          "columns": [
            {
              "expression": "current_stage",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "wizard_sessions_deal_id_deals_id_fk": {
          "name": "wizard_sessions_deal_id_deals_id_fk",
          "tableFrom": "wizard_sessions",
          "tableTo": "deals",
          "columnsFrom": [
            "deal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.agent_session_status": {
      "name": "agent_session_status",
      "schema": "public",
      "values": [
        "active",
        "paused",
        "completed",
        "error"
      ]
    },
    "public.agent_tool_status": {
      "name": "agent_tool_status",
      "schema": "public",
      "values": [
        "pending",
        "approved",
        "rejected",
        "executing",
        "completed",
        "failed"
      ]
    },
    "public.analysis_stage_status": {
      "name": "analysis_stage_status",
      "schema": "public",
      "values": [
        "pending",
        "in_progress",
        "completed",
        "blocked"
      ]
    },
    "public.analysis_stage_type": {
      "name": "analysis_stage_type",
      "schema": "public",
      "values": [
        "document_upload",
        "census_validation",
        "revenue_analysis",
        "expense_analysis",
        "cms_integration",
        "valuation_coverage"
      ]
    },
    "public.asset_type": {
      "name": "asset_type",
      "schema": "public",
      "values": [
        "SNF",
        "ALF",
        "ILF"
      ]
    },
    "public.assumption_category": {
      "name": "assumption_category",
      "schema": "public",
      "values": [
        "minor",
        "census",
        "labor",
        "regulatory"
      ]
    },
    "public.capex_category": {
      "name": "capex_category",
      "schema": "public",
      "values": [
        "immediate",
        "deferred",
        "competitive"
      ]
    },
    "public.clarification_status": {
      "name": "clarification_status",
      "schema": "public",
      "values": [
        "pending",
        "resolved",
        "skipped",
        "auto_resolved"
      ]
    },
    "public.clarification_type": {
      "name": "clarification_type",
      "schema": "public",
      "values": [
        "low_confidence",
        "out_of_range",
        "conflict",
        "missing",
        "validation_error"
      ]
    },
    "public.conflict_resolution": {
      "name": "conflict_resolution",
      "schema": "public",
      "values": [
        "pending",
        "use_first",
        "use_second",
        "use_average",
        "manual_value",
        "ignored"
      ]
    },
    "public.deal_status": {
      "name": "deal_status",
      "schema": "public",
      "values": [
        "new",
        "analyzing",
        "reviewed",
        "under_loi",
        "due_diligence",
        "closed",
        "passed"
      ]
    },
    "public.deal_structure": {
      "name": "deal_structure",
      "schema": "public",
      "values": [
        "purchase",
        "lease",
        "sale_leaseback",
        "acquisition_financing"
      ]
    },
    "public.document_status": {
      "name": "document_status",
      "schema": "public",
      "values": [
        "uploaded",
        "parsing",
        "normalizing",
        "analyzing",
        "complete",
        "error"
      ]
    },
    "public.document_type": {
      "name": "document_type",
      "schema": "public",
      "values": [
        "financial_statement",
        "rent_roll",
        "census_report",
        "staffing_report",
        "survey_report",
        "cost_report",
        "om_package",
        "lease_agreement",
        "appraisal",
        "environmental",
        "other"
      ]
    },
    "public.extraction_stage": {
      "name": "extraction_stage",
      "schema": "public",
      "values": [
        "pending",
        "in_progress",
        "review_needed",
        "complete"
      ]
    },
    "public.folder_type": {
      "name": "folder_type",
      "schema": "public",
      "values": [
        "financial",
        "census",
        "survey",
        "legal",
        "other"
      ]
    },
    "public.mapping_method": {
      "name": "mapping_method",
      "schema": "public",
      "values": [
        "auto",
        "suggested",
        "manual"
      ]
    },
    "public.partner_type": {
      "name": "partner_type",
      "schema": "public",
      "values": [
        "lender",
        "reit",
        "equity"
      ]
    },
    "public.pattern_type": {
      "name": "pattern_type",
      "schema": "public",
      "values": [
        "extraction",
        "normalization",
        "validation",
        "classification"
      ]
    },
    "public.risk_tolerance": {
      "name": "risk_tolerance",
      "schema": "public",
      "values": [
        "conservative",
        "moderate",
        "aggressive"
      ]
    },
    "public.scenario_type": {
      "name": "scenario_type",
      "schema": "public",
      "values": [
        "baseline",
        "upside",
        "downside",
        "custom"
      ]
    },
    "public.settings_category": {
      "name": "settings_category",
      "schema": "public",
      "values": [
        "valuation",
        "financial",
        "risk",
        "market",
        "proforma",
        "display"
      ]
    },
    "public.suggestion_status": {
      "name": "suggestion_status",
      "schema": "public",
      "values": [
        "pending",
        "accepted",
        "rejected",
        "expired"
      ]
    },
    "public.valuation_method": {
      "name": "valuation_method",
      "schema": "public",
      "values": [
        "cap_rate",
        "price_per_bed",
        "comparable_sales",
        "dcf",
        "noi_multiple",
        "proprietary"
      ]
    },
    "public.wizard_stage_type": {
      "name": "wizard_stage_type",
      "schema": "public",
      "values": [
        "document_upload",
        "review_analysis",
        "facility_verification",
        "document_extraction",
        "coa_mapping_review",
        "financial_consolidation"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}